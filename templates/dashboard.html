<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoAffiliate Dashboard</title>
    <!-- GZIP / minified CSS for production -->
    <link rel="stylesheet" href="/static/dashboard.css">
    <style>
        /* Minimal inline styles fallback */
        body { font-family: Arial, sans-serif; background: #f4f4f9; margin: 0; padding: 0; }
        header { background: #1a1a2e; color: #fff; padding: 1rem; text-align: center; }
        main { max-width: 900px; margin: 2rem auto; padding: 1rem; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        button { margin: 0.5rem 0; padding: 0.5rem 1rem; cursor: pointer; border: none; border-radius: 4px; background: #4ecca3; color: #fff; font-weight: bold; transition: 0.2s; }
        button:hover { background: #3fa68c; }
        input { padding: 0.5rem; margin-right: 0.5rem; width: 70%; }
        #stats { margin-top: 1rem; padding: 1rem; background: #e3e3f1; border-radius: 6px; }
        .section { margin-bottom: 2rem; }
    </style>
</head>
<body>
    <header>
        <h1>AutoAffiliate Dashboard</h1>
        <p>Welcome, {{ current_user.username }}</p>
        <a href="{{ url_for('logout') }}" style="color:#ff4e4e; text-decoration:none;">Logout</a>
    </header>
    <main>
        <!-- Stats Section -->
        <div class="section" id="stats">
            <p>Loading stats...</p>
        </div>

        <!-- Worker Control -->
        <div class="section">
            <h2>Worker Controls</h2>
            <button id="refresh-btn">Refresh Sources</button>
            <button id="start-worker-btn">Start Worker</button>
            <button id="stop-worker-btn">Stop Worker</button>
        </div>

        <!-- Manual URL Enqueue -->
        <div class="section">
            <h2>Add Affiliate URL</h2>
            <form id="enqueue-form">
                <input type="text" id="enqueue-url" placeholder="https://affiliate-link.com/..." required>
                <button type="submit" id="enqueue-btn">Add URL</button>
            </form>
        </div>
    </main>

    <!-- Dashboard JS -->
    <script src="/static/dashboard.js"></script>
</body>
</html>
